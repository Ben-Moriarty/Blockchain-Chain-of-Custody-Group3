# Blockchain-Chain-of-Custody-Group3

## Team Members
- Abdullah Baig
- Adwait Thombre
- Ben Moriarty
- Clinston Zeng
- Peyton Gray

## Description

This project implements a secure blockchain-based Chain of Custody (CoC) system for tracking digital evidence. Inspired by real-world forensic practices, our system ensures the integrity, traceability, and accountability of evidence handling from collection to removal.

Each evidence-related action (e.g., add, checkin, checkout, remove) is stored as a block in an append-only blockchain, preventing tampering and supporting transparent auditing.

## How It Works

- Each block includes encrypted evidence and case IDs, a timestamp, action type, actor (creator or owner), and a hash of the previous block.
- The first block is the Genesis Block (`init`), and it sets up the blockchain file.
- AES-ECB encryption is used to store case and item IDs securely.
- The program uses structured binary file storage and supports command-line interaction.

## Executable & Build

The project compiles to an executable named `bchoc`.

To build the project:
```bash
make
```

## Commands Implemented

- `bchoc init`  
- `bchoc add -c case_id -i item_id [-i item_id ...] -g creator -p password`
- `bchoc checkout -i item_id -p password`
- `bchoc checkin -i item_id -p password`
- `bchoc show cases -p password`
- `bchoc show items -c case_id -p password`
- `bchoc show history [-c case_id] [-i item_id] [-n num_entries] [-r] -p password`
- `bchoc remove -i item_id -y reason [-o owner] -p password`
- `bchoc verify`
- `bchoc summary -c case_id`

## Environment Variables

- `BCHOC_FILE_PATH`: The file path where the blockchain binary will be stored.
- Passwords must be passed through environment variables:
  - `BCHOC_PASSWORD_POLICE`: "P80P"
  - `BCHOC_PASSWORD_LAWYER`: "L76L"
  - `BCHOC_PASSWORD_ANALYST`: "A65A"
  - `BCHOC_PASSWORD_EXECUTIVE`: "E69E"
  - `BCHOC_PASSWORD_CREATOR`: "C67C"

## AES Key
```python
AES_KEY = b"R0chLi4uLi4uLi4="
```

## File Format
- Blocks are stored in binary using the struct format `"32s d 32s 32s 12s 12s 12s I"`, followed by variable-length Data.
- All timestamps are in UTC.
- Encrypted values are only decrypted if a valid password is provided; otherwise, encrypted values are shown.

## Data Structure Design
Each block contains:
- `prev_hash`
- `timestamp`
- `case_id` (AES encrypted UUID)
- `item_id` (AES encrypted 4-byte integer)
- `state` (`CHECKEDIN`, `CHECKEDOUT`, `DISPOSED`, `DESTROYED`, `RELEASED`)
- `creator`, `owner`
- `data_length`
- `data`

## Roles & Contributions
- **Abdullah Baig** – Team Lead, report writing, final integration, testing
- **Ben Moriarty** – Checkout, Checkin, Data Structures
- **Adwait Thombre** – Show history, design logic, parsing
- **Clinston Zeng** – Show items, file format, byte alignment
- **Peyton Gray** – Init, Remove, Show cases, security policies

## How to Run
```bash
./bchoc [command with flags]
```

Example:
```bash
./bchoc add -c <case_id> -i <item_id> -g <creator> -p C67C
```

## Makefile
Makefile is provided. Running `make` will compile the project and produce `bchoc`.

## AI Acknowledgment
> Portions of the code in this project were generated with assistance from ChatGPT, an AI tool developed by OpenAI.  
> Reference: OpenAI. (2024). ChatGPT [Large language model]. https://openai.com/chatgpt

Lines generated by ChatGPT have inline comments like:
```python
# This function was generated with assistance from ChatGPT, an AI tool developed by OpenAI.
```

## License
MIT
